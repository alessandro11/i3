#!/usr/bin/env bash

# BUG: THRE IS NO WAY TO SOURCE A FILE.
#      i3blocks does not even respect which environment
# that is running the script, always run with user default
# shell script.
# ANY VARS DECLARED IN ANOTHER SOURCE FILE WON'T WORK.
# . sys.conf

fa_circle_o='\U000f10c'
#fa_clock_o='\U000f017'
fa_clock_o=$fa_circle_o

hour_min=`date '+%T'`
sec=${hour_min##[0-9]*:}
hour_min=${hour_min%:*[0-9]}
color='#fdfefe'

DARK_GRAY="#17202a"
GRAY="#808080"
DEFAULT_COLOR="#53ff1a"
DEF_ICON_COLOR="$DEFAULT_COLOR"

if [ $(($sec % 2)) -eq 0 ]; then
	color="$DARK_GRAY"
else
	color="$DEFAULT_COLOR"
fi

echo -e "<span foreground='$DEF_ICON_COLOR' size='large'>$fa_clock_o</span>"\
	 "<span foreground='$DEFAULT_COLOR' size='large'>$hour_min</span><span foreground='$color' size='small'>:</span><span foreground='$DEFAULT_COLOR' size='x-small'>$sec </span>"

exit 0
