#!/usr/bin/env sh

# BUG: THRE IS NO WAY TO SOURCE A FILE.
#      i3blocks does not even respect which environment
# that is running the script, always run with user default
# shell script.
# ANY VARS DECLARED IN ANOTHER SOURCE FILE WON'T WORK.
# . sys.conf

fa_clock_o='\U000f017'
DEFAULT_FGCOLOR="#53ff1a"
DEF_ICON_COLOR="#0066ff"
DEF_ICON_COLOR="$DEFAULT_FGCOLOR"
GRAY="#808080"

hour_min=`date '+%T'`
sec=${hour_min##[0-9]*:}
hour_min=${hour_min%:*[0-9]}
color='#fdfefe'

#
# Bash interprets 08 and 09 as octal, so it raises the following error:
#     *sh: 08: value too great for base (error token is "08")*
# So the approach below forces to use base 10 %((10#...
#
if [ $((10#$sec % 2)) -eq 0 ]; then
	color='#17202a'
fi

echo -e "<span foreground='$DEFAULT_FGCOLOR'>$hour_min</span><span foreground='$color'>:</span><span foreground='$DEFAULT_FGCOLOR' size='x-small'>$sec</span>"

exit 0
